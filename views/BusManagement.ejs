<head>
    <title>Add Bus</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <%- include('../template/layout/header') %>
</head>

<body>
    <form action="/BusManagement" method="POST">
        <div class="form-group">
            <label for="nextStop" class="control-label">Next Stop</label>
            <input class="form-control" value="Western Approach Flats" name="nextStop" id="nextStop" type="text" required>
        </div>
        <div class="form-group">
            <label for="Lat" class="control-label">Latitude</label>
            <input class="form-control" value=50.373153 name="Lat" id="Lat" type="text" required>
        </div>
        <div class="form-group">
            <label for="Lng" class="control-label">Longitude</label>
            <input class="form-control" value=-4.146372 name="Lng" id="Lng" type="text" required>
        </div>
        <div class="form-group">
            <label for="busID" class="control-label">Bus Number</label>
            <input class="form-control" value=2 name="busID" id="busID" type="number"required>
        </div>
        <button class="btn btn-primary">Submit</button>
    </form>
    <table class="table table-dark">
        <th>ID</th>
        <th>Bus No</th>
        <th>NextStop</th>
        <th>Current Lat</th>
        <th>Current Lng</th>
        <th>delete/manage routes/edit </th>

        <% for(var i=0; i < buses.length; i++) { %>
        <tr>
            <td id="tableBusID"><%= buses[i].id %></td>
            <td id="tableBusNo"><%= buses[i].busNo %></td>
            <td id="tableNextStop"><%= buses[i].busLocation.nextStop %></td>
            <td id="tableLat"><%= buses[i].busLocation.lat %></td>
            <td id="tableLng"><%= buses[i].busLocation.lng %></td>
            <td>
                <form action="/BusManagement" method="POST">
                    <button class="btn btn-danger" id="Delete"><i class="fa fa-trash-o" aria-hidden="true"></i></button>
                    <input hidden name="delete" value="true">
                    <input hidden value="<%= buses[i].id %>" name="busID"> 
                </form>
                <button onclick="window.location.href='/updateroutes/<%=i%>'" id="manageRoute" type="button" class="btn btn-primary">Manage Routes</button>
                <button onclick="window.location.href='/editbus/<%=i%>'" type="button" id="editBus" class="btn btn-primary">Edit Bus</button>
                
            </td>

        </tr>
        <% } %>
    </table>
</body>